{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "data": {
    "url": "https://raw.githubusercontent.com/aaut0001/FIT3179_W10/main/airline.csv"
  },
  "vconcat": [
    {
      "width": 600,
      "height": 400,
      "transform": [
        {
          "timeUnit": "month",
          "field": "Departure Date",
          "as": "Month of Departure"
        },
        {
          "calculate": "timeFormat(datum['Month of Departure'], '%B')",
          "as": "Month Name"
        }
      ],
      "mark": "bar",
      "encoding": {
        "x": {
          "field": "Month Name",
          "type": "ordinal",
          "title": "Month of Departure",
          "sort": [
            "January",
            "February",
            "March",
            "April",
            "May",
            "June",
            "July",
            "August",
            "September",
            "October",
            "November",
            "December"
          ]
        },
        "y": {
          "aggregate": "count",
          "type": "quantitative",
          "title": "Number of Flights"
        },
        "color": {
          "field": "Continents",
          "type": "nominal",
          "title": "Continent",
          "legend": {"title": "Continents"}
        },
        "tooltip": [
          {
            "field": "Month Name",
            "type": "nominal",
            "title": "Month of Departure"
          },
          {
            "field": "Continents",
            "title": "Continent"
          },
          {
            "field": "count()",
            "type": "quantitative",
            "title": "Flights per Continent",
            "aggregate": "count",
            "groupby": [
              "Continents"
            ]
          }
        ]
      }
    },
    {
      "width": 600,
      "height": 400,
      "mark": "bar",
      "encoding": {
        "x": {
          "field": "Country Name",
          "type": "nominal",
          "title": "Country of Departure",
          "sort": "-y"
        },
        "y": {
          "aggregate": "count",
          "type": "quantitative",
          "title": "Number of Flights",
          "scale": {"type": "log", "base": 2}
        },
        "tooltip": [
          {
            "field": "Country Name",
            "type": "nominal",
            "title": "Country of Departure"
          },
          {
            "field": "Country Name",
            "title": "Country Name"
          },
          {
            "field": "count()",
            "type": "quantitative",
            "title": "Flights per Continent",
            "aggregate": "count",
            "groupby": [
              "Country Name"
            ]
          }
        ]
      }
    }
  ],
  "selection": {
    "continent_selection": {
      "type": "single",
      "fields": [
        "Continents"
      ],
      "bind": {
        "input": "select",
        "options": [
          "Africa",
          "Asia",
          "Europe",
          "North America",
          "Oceania",
          "South America"
        ]
      }
    }
  }
}
